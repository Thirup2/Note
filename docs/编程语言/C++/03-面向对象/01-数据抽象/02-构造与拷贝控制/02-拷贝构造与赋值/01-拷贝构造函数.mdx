## 一、基本格式

如果一个构造函数的第一个参数是自身类类型的引用，且任何额外参数都有默认值，则此构造函数是**拷贝构造函数**：

```cpp
class Foo {
public:
    Foo();
    Foo(const Foo&);		// 拷贝构造函数
};
```

- 拷贝构造函数的第一个参数必须是一个引用类型
- 可以定义一个接受非`const`引用的拷贝构造函数，但此参数几乎总是一个`const`的引用
- 拷贝构造函数在几种情况下都会被隐式地使用，故拷贝构造函数通常不应该是`explicit`的。



## 二、合成拷贝构造函数

一般情况下，合成的拷贝构造函数会将其参数的成员逐个拷贝到正在创建的对象中，编译器从给定对象中依次将每个非`static`成员拷贝到正在创建的对象中。
对类类型的成员，会使用其拷贝构造函数来拷贝；对于数组，合成的拷贝构造函数能够逐元素拷贝一个数组类型的成员，如果数组成员是类类型，则调用元素的拷贝构造函数。

但是对于某些类来说，合成的拷贝构造函数用来阻止我们拷贝该类类型的对象。



## 三、拷贝初始化

当使用`=`进行初始化的时候，执行的初始化方式就是拷贝初始化，它们几乎都将调用拷贝构造函数（有的可能调用移动构造函数）：

```cpp
string dots(10, '.');				// 直接初始化
string s(dots);						// 直接初始化：直接调用拷贝构造函数
string s2 = dots;					// 拷贝初始化
string null_book = "1234";			// 拷贝初始化
string nines = string(100, '9')		// 拷贝初始化
```

位于拷贝初始化右侧的初始值类型要么和新建变量类型相同，要么能够隐式转换为该类型。

另外，拷贝初始化不仅在我们用`=`定义变量时会发生，在下列情况也会发生：

- 将一个对象作为实参传递给一个非引用类型的形参
- 从一个返回类型为非引用类型的函数返回一个对象
- 用花括号列表初始化一个数组中的元素或一个聚合类的成员
