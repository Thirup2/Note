## 一、三法则

> 如果一个类需要自定义析构函数，几乎可以肯定它也需要自定义拷贝赋值运算符和拷贝构造函数。

在“三法则”中：析构函数、拷贝构造函数、拷贝赋值运算符这三者应该看做一个整体。如果定义了其中一个，另外两个也应该进行定义而不是采用合成的函数。

如果一个类需要一个析构函数，几乎可以肯定他也需要一个拷贝构造函数和一个拷贝赋值运算符。当一个类需要一个析构函数的时候，说明它的函数体不会再是空的，也就是说该类几乎肯定管理了一些资源需要手动进行释放，而这样的资源对于合成的拷贝构造函数和拷贝赋值运算符则是忽略的，所以我们也需要定义自己的拷贝构造函数和拷贝赋值运算符来拷贝这样的资源。

另外，需要拷贝操作的类也需要赋值操作，反之亦然。拷贝赋值运算符执行的操作和拷贝构造函数几乎是相同的，只是需要返回左侧运算对象。所以如果拷贝构造函数需要自定义，那么拷贝赋值运算符应该也需要自定义。