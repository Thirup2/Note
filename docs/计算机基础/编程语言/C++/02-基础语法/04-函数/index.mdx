---
title: 函数
---

一个典型的**函数定义**包括以下部分：**返回类型**、**函数名字**、**形参列表**以及**函数体**。

一个只包含前三个部分而不包含函数体的函数形式是**函数声明**，函数声明中的形参列表可以只包含类型而不包含参数名。

通过调用运算符可以执行函数，例如`printf("Hello, World!\n")`。函数调用运算符左侧是函数名或函数指针名，其内是一个实参列表，依次和函数声明的形参列表相对应，依次作为形参的初始值。调用运算符返回值的类型即函数声明的类型，而返回值则是函数体定义的返回值。

## 一、函数执行

执行函数的第一步是（隐式地）定义并初始化它的形参，其初始值就是调用语句提供的实参值。

然后进入函数体，依次执行语句，直到遇到函数末尾或者`return`语句。对于函数返回类型不为`void`的函数，必须包含`return`语句并返回实际的值。

当函数执行完毕后，用函数的返回值初始化一个返回类型的临时对象，这个临时对象用来作为函数调用语句的返回值。



## 二、形参和实参

实参是形参的初始值。第一个实参初始化第一个形参，第二个实参初始化第二个形参，以此类推。

虽然实参与形参存在对应关系，但是并没有规定实参的求值顺序，编译器能以任意可行的顺序对实参求值。

实参的类型必须与对应的形参类型匹配或能够转换为形参类型。实参的数量也必须和形参的数量一致。

**形参列表**：

- 函数的形参列表可以为空，但不能省略，对于空形参列表可以使用一对空括号`()`表示或者使用和 C 语言一样的`(void)`表示。
- 形参列表中的形参用逗号隔开，每个形参都是含有一个声明符的声明，即使两个形参的类型一样，也必须把两个类型都写出来。
- 任意两个形参都不能同名，而且函数最外层作用域的局部变量也不能使用与函数形参一样的名字



## 三、返回类型

大多数类型都能用做函数的返回类型。一种特殊的返回类型是`void`，它表示函数不返回任何值。

函数的返回类型不能是数组类型或函数类型，但可以是指向数组或函数的指针。



## 四、函数声明

和其他的名字一样，函数也可以进行多次声明，而定义一次。

一个函数定义也是由**类型**、**标识符**、**值**构成。对于函数来说，函数返回类型、形参列表都是函数的类型；而函数名就是标识符；函数体就是对于函数来说的值。

如果我们去掉函数体，剩下的就是函数声明，实际上就是用一条空语句代替函数体。函数声明也称作函数原型。