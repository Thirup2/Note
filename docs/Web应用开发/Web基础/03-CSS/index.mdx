---
title: CSS
---

## 一、定义和应用样式

CSS 样式由一条或多条以分号隔开的样式声明组成。每条声明包含着一个 CSS 属性和该属性的值，二者以冒号分隔。

例如：

```css
background-color: grey;
color: white;
```

其中含有两条样式声明，第一条将`background-color`属性的值设置为`grey`，第二条将`color`属性的值设置为`white`。



## 二、在 HTML 中使用 CSS 的方法

### 1. 元素内嵌 CSS

如我们在 [HTML-style属性](../HTML/#12-style-属性) 部分所提到的那样，CSS 样式可以通过`style`这个全局属性内嵌到任意元素上：

```html
<!DOCTYPE HTML>
<html>
    <head>
        <title>Example</title>
    </head>
    <body>
        <!-- highlight-start -->
        <a href="http://apress.com" style="background-color:grey; color:white">
            Visit the Apress website
        </a>
        <!-- highlight-end -->
        <p>I like <span>apples</span> and oranges.</p>
        <a href="http://w3c.org">Visit the W3C website.</a>
    </body>
</html>
```

其中第一个`a`元素我们给了`style`属性，而第二个`a`元素没有给，在下面你可以看到它们之间的区别：

**渲染效果**：

![08](/imgs/Web应用开发/Web基础/08.png)



### 2. 文档内嵌 CSS

除了可以为具体某个元素指定样式之外，还可以为某一类元素指定相同的样式，其中一种方法是直接在 HTML 文档内指定，这在 HTML 中以`style`元素（而不是`style`属性）的形式进行支持。

这是一个元数据元素，在`style`元素里的内容和 CSS 文件里的内容应该相同，即应该使用选择器：

```html
<!DOCTYPE HTML>
<html>
    <head>
        <title>Example</title>
        <!-- highlight-start -->
        <style type="text/css">
            a {
                background-color: grey;
                color: white;
            }
        </style>
        <!-- highlight-end -->
    </head>
    <body>
        <a href="http://apress.com">Visit the Apress website</a>
        <p>I like <span>apples</span> and oranges.</p>
        <a href="http://w3c.org">Visit the W3C website.</a>
    </body>
</html>
```

**渲染效果**：

![09](/imgs/Web应用开发/Web基础/09.png)

此时的样式应用了元素选择器`a`，即对所有的`a`元素都应用如上所述的样式。

和实际使用 CSS 一样，在`style`元素中也可以定义多条样式，如下所示：

```html
<!DOCTYPE HTML>
<html>
    <head>
        <title>Example</title>
        <style type="text/css">
            a {
                background-color: grey;
                color: white;
            }
        /* highlight-start */
            span {
                border: thin black solid;
                padding: 10px;
            }
        /* highlight-end */
        </style>
    </head>
    <body>
        <a href="http://apress.com">Visit the Apress website</a>
        <p>I like <span>apples</span> and oranges.</p>
        <a href="http://w3c.org">Visit the W3C website.</a>
    </body>
</html>
```

**渲染效果**：

![10](/imgs/Web应用开发/Web基础/10.png)



### 3. 使用外部样式表

当一套样式需要应用于多个 HTML 文档时，将这套样式单独定义在一个文件中或许是更好的选择。

保存 CSS 样式表的文件按照惯例以`.css`为文件扩展名，其中包含着用户的样式定义，我们将上例中定义的样式保存在`style.css`这个文件中。

而在原本的 HTML 中的`style`元素就可以不用了，但为了将外部样式表添加到 HTML 文档中，需要使用`link`元素进行链接。

<Tabs>

<TabItem value="style.css1" label="style.css">

```css
a {
    background-color: grey;
    color: white;
}
span {
    border: thin black solid;
    padding: 10px;
}
```

</TabItem>

<TabItem value="index.html1" label="index.html">

```html
<!DOCTYPE HTML>
<html>
    <head>
        <title>Example</title>
        <!-- highlight-start -->
        <link rel="stylesheet" type="text/css" href="style.css"></link>
    	<!-- highlight-end -->
    </head>
    <body>
        <a href="http://apress.com">Visit the Apress website</a>
        <p>I like <span>apples</span> and oranges.</p>
        <a href="http://w3c.org">Visit the W3C website.</a>
    </body>
</html>
```

</TabItem>

</Tabs>

渲染效果和上例相同，此处不再重复展出。



## 三、CSS 文件导入其他样式表

在 CSS 文件中，可以导入另外的 CSS 样式表中的样式，在 CSS 文件中以`@import`进行导入：

```css
@import "style.css";
span {
    border: medium black dashed;
    padding: 10px;
}
```

- 一个样式表可以导入任意数量的其他样式表，每个样式表需要一条`@import`语句。
- `@import`语句必须位于样式表顶端

> `@import`语句应用得并不广泛，一个原因是因为不少人并不知道有这个东西，另一个原因则是浏览器处理`@import`语句的效率往往不如处理多个`link`元素并靠样式层叠解决问题。



## 四、声明样式表的字符编码

在 CSS 样式表中可以出现在`@import`语句之前的只有`@charset`语句，该语句用来声明样式表使用的字符编码。具体的使用方法如下：

```css
@charset "UTF-8";
@import "style.css";
span {
    border: medium black dashed;
    padding: 10px;
}
```

如果样式表中未声明所使用的字符编码，那么浏览器将使用载入该样式表的 HTML 文档声明的编码。要是 HTML 文档也没有声明其编码，那么默认情况下使用的将是 UTF-8.



## 五、样式的层叠和继承

如前所述，元素的样式来源于三个地方，元素内嵌样式、文档内嵌样式、外部样式表。但实际上，除了这三个来源之外，还有另外两个来源：

- 浏览器样式：是元素尚未设置样式时浏览器应用在它身上的默认样式。这些样式因浏览器而略有差异，不过大体一致。例如超链接的文字内容通常都被显示为蓝色+下划线
- 用户样式：大多数浏览器都允许用户定义自己的样式表，这类样式表中包含的样式称为用户样式，可用于覆盖浏览器样式以达到自定义浏览器默认显示效果。

综上所述，现在一个元素的样式有了五个来源，而它们之间的优先度是不同的，元素最终应用的是哪一个来源的样式就取决于这个层叠顺序，下面按优先度从高到低将这些样式进行了排列，当更高优先度的样式来源存在时，将应用该样式而忽略底优先度的样式来源：

- 元素内嵌样式
- 文档内嵌样式
- 外部样式表
- 用户样式
- 浏览器样式

当元素内嵌样式存在时，无论是否定义了后面的那些样式，都将使用元素内嵌样式进行显示；而如果前面的样式都没定义，那么就会按照浏览器样式进行显示。

### 1. 提升优先级

在样式属性值后面添加`!important`将该样式标记为重要，那么无论其他来源的样式是否定义了该项，被标记为重要的样式具有最高优先度。

```html
<!DOCTYPE HTML>
<html>
    <head>
        <title>Example</title>
        <style type="text/css">
            a {
                color: black !important;
            }
        </style>
    </head>
    <body>
        <a style="color:red" href="http://apress.com">Visit the Apress website</a>
        <p>I like <span>apples</span> and oranges.</p>
        <a href="http://w3c.org">Visit the W3C website</a>
    </body>
</html>
```

如果不添加`!important`，那么毫无疑问应该是元素内嵌样式更优先，即链接显示为红色，但由于文档内嵌样式添加了`!important`标记，并且对所有`a`元素生效，所以现在链接都显示为黑色：

![11](/imgs/Web应用开发/Web基础/11.png)



### 2. 相同优先级的选择

如果两条定义于同一层次的样式都能应用于同一个元素，而且它们都包含着浏览器要查看的 CSS 属性值，这是就需要判断该用哪个值。

浏览器通过下面三类特征评估两条样式的具体程度，然后选中较为特殊的那条：

- 样式的选择器中`id`值的数目
- 选择器中其他属性和伪类的数目
- 选择其中元素名和伪元素的数目

例如：

```html
<!DOCTYPE HTML>
<html>
    <head>
        <title>Example</title>
        <style type="text/css">
            a {
                color: black;
            }
            a.myclass {
                color: white;
                background: grey;
            }
        </style>
    </head>
    <body>
        <a href="http://apress.com">Visit the Apress website</a>
        <p>I like <span>apples</span> and oranges.</p>
        <a class="myclass" href="http://w3c.org">Visit the W3C website</a>
    </body>
</html>
```

**渲染效果**：

![12](/imgs/Web应用开发/Web基础/12.png)

在评定具体程度时要按照`a-b-c`的形式（其中每一个字母依次代表上述三类特征的统计结果）生成一个数字。如果对某个样式算出的`a`值最大，那么它就是具体程度高的那个。只有`a`值相等时浏览器彩绘比较`b`值，此时`b`值较大的样式具体程度更高。而只有`a`、`b`二值都相等时，才比较`c`值。

如果无论如何两条样式在具体程度上都相同，那么将按照定义的先后顺序进行应用，后定义的样式更优先。



### 3. 继承

如果浏览器在直接相关的样式中找不到某个属性的值，就会求助于继承机制，使用父元素的这个样式的属性值。

并非所有的 CSS 属性均可继承，通常来说：与元素外观相关的样式会被继承；与元素在页面上的布局相关的样式不会被继承。

在样式中使用`inherit`这个特别的值可以强行实施继承，明确指示浏览器在该属性上使用父元素样式中的值：

```html
<!DOCTYPE HTML>
<html>
    <head>
        <title>Example</title>
        <style>
            p {
                color: white;
                background: grey;
                border: medium solid black;
            }
            span {
                /* highlight-next-line */
                border: inherit;
            }
        </style>
    </head>
    <body>
        <a href="http://apress.com">Visit the Apress website</a>
        <p>I like <span>apples</span> and oranges.</p>
        <a class="myclass1 myclass2" href="http://w3c.org">Visit the W3C website</a>
    </body>
</html>
```



## 六、CSS 中的颜色

在 CSS 中，颜色可以用**红**、**绿**、**蓝**三种颜色成分的值来表示，有多种设置方法。

每一种颜色成分可以选择从 0 ~ 255 中的整数值，数值越大，则该颜色越深。用这种方法可以表示出几乎所有的颜色，具体由下面几种方法：

- 十六进制表示：依然按照红、绿、蓝的顺序给出每种颜色的数值，但按照十六进制的表示方法，且数字前需要添加`#`表示这是一个十六进制的颜色

  ```
  #000000			// 黑色 (0, 0, 0)
  #C0C0C0			// 灰色 (192, 192, 192)
  #FFFFFF			// 白色 (255, 255, 255)
  ```

- 颜色名称：使用十六进制可以表示几乎所有的颜色了，但记忆太多颜色却几乎是不可能的。所以 CSS 还定义了一批扩展颜色名，例如：

  ```
  black			// = #000000
  red				// = #FF0000
  yellow			// = #FFFF00
  ```

- `rgb`函数：依然使用 RGB 模型表示颜色，接受三个参数依次是红、绿、蓝每种颜色的数值（按十进制）：

  ```css
  rgb(112, 128, 144)		/* 等价于 #708090 和 slategray */
  ```

- `rgba`函数：依然使用 RGB 模型表示颜色，但接受四个参数，前三个和原来相同，第四个用于表示透明度（从 0 ~ 1，1 表示完全不透明）：

  ```css
  rgba(112, 128, 144, 0.4)
  ```

以上方法都是基于 RGB 模型表示的颜色，还有基于 HSL 模型表示的颜色，分别是**色相**、**饱和度**、**明度**。色相从 0 ~ 360 中取值，饱和度和明度用百分比进行表示。

基于 HSL 模型的颜色表示方法有两种：

- `hsl`函数：和`rgb`函数的用法类似，接受三个参数，依次是色相、饱和度、明度：

  ```css
  hsl(120, 100%, 22%)
  ```

- `hsla`函数：和`rgba`函数的用法类似，接受四个参数，前三个和`hsl`相同，第四个表示透明度：

  ```css
  hsla(120, 100%, 22%, 0.4)
  ```



## 七、CSS 中的长度

长度由数值和单位连在一起构成。

### 1. 绝对长度

有些单位是绝对单位，它们也是现实世界的度量单位：

| 单位标识符 | 说明                  |
| ---------- | --------------------- |
| `in`       | 英寸                  |
| `cm`       | 厘米                  |
| `mm`       | 毫米                  |
| `pt`       | 磅 (1 磅 = 1/72 英寸) |
| `pc`       | pica (1 pica = 12 磅) |



### 2. 相对长度

| 单位标识符 | 说明                                     |
| ---------- | ---------------------------------------- |
| `em`       | 与元素字号挂钩                           |
| `ex`       | 与元素字体的“x 高度”挂钩                 |
| `rem`      | 与根元素的字号挂钩                       |
| `px`       | CSS 像素（假定显示设备的分辨率为 96dpi） |
| `%`        | 零一属性值的百分比                       |



### 3. 其他单位

| 单位标识符 | 说明                                 |
| ---------- | ------------------------------------ |
| `gb`       | 与网格挂钩。                         |
| `vw`       | 与视口宽度挂钩                       |
| `vh`       | 与视口高度挂钩                       |
| `vm`       | 1 vm = 最短视口轴长的 1%             |
| `ch`       | 与用当前字体显示的字符的平均宽度挂钩 |



## 八、CSS 角度

| 单位标识符 | 说明   |
| ---------- | ------ |
| `deg`      | 度     |
| `grad`     | 百分度 |
| `rad`      | 弧度   |
| `turn`     | 圆周   |



## 九、CSS 时间

| 单位标识符 | 说明 |
| ---------- | ---- |
| `s`        | 秒   |
| `ms`       | 毫秒 |

