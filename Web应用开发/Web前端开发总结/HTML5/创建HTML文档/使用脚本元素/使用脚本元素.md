与脚本相关的元素有两个，一个是`script`，用于定义脚本并控制其执行过程。第二个是`noscript`，用于规定在浏览器不支持脚本或禁用了脚本的情况下的处理办法。

`script`元素一般放在文档任何位置，但一般放在`head`元素中。

# 一. script元素

`script`元素可以用来在页面中加入脚本，方式有在文档中定义脚本和引用外部文件中的脚本两种。最常用的脚本类型是JavaScript。

## 1. 元素信息

| 元素   | 元素类型    | 允许具有的父元素                   | 局部属性                         | 内容                                                 | 标签用法                                                     |
| ------ | ----------- | ---------------------------------- | -------------------------------- | ---------------------------------------------------- | ------------------------------------------------------------ |
| script | 元数据/短语 | 可以包含元数据或短语元素的任何元素 | type、src、defer、async、charset | 脚本语言语句。用于导入外部JavaScript库时元素没有内容 | 必须使用开始标签和结束标签。不能使用自闭合标签，就算引用外部JavaScript库也是如此 |

| 是否为HTML5新增 | 在HTML5中的变化                                              | 习惯样式 |
| --------------- | ------------------------------------------------------------ | -------- |
| 否              | 在HTML5中type属性可有可无，async属性是新增的，HTML4中的属性language在HTML5中已不再使用 | 无       |

## 2. 使用元素

### 1） 属性简介

| 属性             | 说明                                                         |
| ---------------- | ------------------------------------------------------------ |
| type             | 表示所引用或定义的脚本的类型，对于JavaScript脚本这个属性可以省略 |
| src              | 指定外部脚本文件的URL，参见后面的例子                        |
| defer<br />async | 设定脚本的执行方式，参见后面的例子。这两个属性只能与src属性一同使用 |
| charset          | 说明外部脚本文件所用字符编码，该属性只能与src属性一同使用    |

### 2）定义文档内嵌脚本

定义脚本最简单的方式是内嵌定义，如下：

```html
<script>
    document.write("This is from the script");
</script>
```

不使用`type`属性时，浏览器会假定使用的是JavaScript。

默认情况下，浏览器在页面中一遇到脚本就会执行，如果放在`head`元素中也是一样，其将会在所有`body`元素之前执行。

### 3）载入外部脚本库

可以把脚本放到单独的文件中，然后用`script`元素载入HTML文档。

假设有一个脚本文件`simple.js`，其代码如下：

```javascript
document.write("This is from the external script");
```

在HTML文件中可以按如下方式导入：

```html
<script src="simple.js"></script>
```

效果与上例相同。

**注意**：如果使用自闭合标签引用外部脚本，浏览器将忽略这个元素，不会加载引用的文件

### 4）推迟脚本的执行

`defer`属性告诉浏览器要等页面载入和解析完毕之后才能执行脚本。

假设有下面这个脚本文件`simple2.js`：

```javascript
document.getElementById("applecode").innerText = "cherries";
```

然后HTML文件里的调用如下：

```html
<script defer src="simple2.js"></script>
```

不论这个`script`元素放在HTML中哪个位置，都将在最后来执行这个脚本文件中的语句

### 5）异步执行脚本

通过`async`可以实现异步执行脚本。

原本的脚本执行顺序是在浏览器遇到`script`元素之后，就完全执行`script`元素中的内容，而不管后续其他内容，在`script`元素中的语句执行完成后再继续解析后续元素。

有些脚本不影响HTML其他部分的内容，不需要与其他元素同步，此时使用`async`属性可以实现异步执行的效果。

使用了`async`属性之后，浏览器将在继续解析HTML文档中其他元素（包括其他`script`元素）的同时异步加载和执行脚本。

```html
<script async src="simple2.js"></script>
```

**注意**：如果脚本使用了其他脚本中定义的函数或值，那就不宜使用`async`属性。



# 二. noscript属性

`noscript`元素可以用来向禁用了JavaScript或浏览器不支持JavaScript的用户显示一些内容。

## 1. 元素信息

| 元素     | 元素类型       | 允许具有的父元素                               | 局部属性 | 内容             | 标签语法                 |
| -------- | -------------- | ---------------------------------------------- | -------- | ---------------- | ------------------------ |
| noscript | 元数据/短语/流 | 任何可以包含元数据元素、短语元素或流元素的元素 | 无       | 短语元素或流元素 | 开始标签和结束标签都需要 |

| 是否为HTML5新增 | 在HTML5中的变化 | 习惯样式 |
| --------------- | --------------- | -------- |
| 否              | 无              | 无       |

## 2. 使用元素

与`script`元素类似，`noscript`元素所属类型取决于它在文档中的位置。

```html
<noscript>
    <h1>
        Javascript is required!
    </h1>
    <p>
        You cannot use this page without Javascript
    </p>
</noscript>
```

`noscript`元素只有在浏览器不支持`JavaScript`时会执行。

还可以在不支持`JavaScript`的情况下将网页跳转到另一个URL：

```html
<noscript>
    <meta http-equiv="refresh" content="0; http://www.apress.com" />
</noscript>
```

**注意**：上述元素只能放在`head`元素中。
