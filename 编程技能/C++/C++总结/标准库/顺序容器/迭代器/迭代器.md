# 一. 简介

对于`vector`、`string`之类的容器类型，都可以使用**迭代器**来访问其基本元素。

迭代器类似于指针类型，提供了对对象的间接访问，并且能够通过迭代器访问对象。

迭代器与指针类似，也有有效和无效之分，有效的迭代器指向某个元素或者指向容器中尾元素的下一位置；其他所有的情况都属于无效。



# 二. 获取迭代器

- 对于有迭代器的类型来说，都有返回迭代器的成员（如`begin()`、`end()`），可以通过这些成员来获取一个迭代器

    ```c++
    vector<int> ival(10, 5);
    auto beg = ival.begin;
    auto end = ival.end;
    ```
    
- 对于数组而言，需要先进行一些准备：

    ```c++
    #include <iterator>			// 使用iterator类
    using std::begin;			// 使用begin函数
    using std::end;				// 使用end函数
    ```

    然后通过`begin`和`end`函数来获取数组的迭代器：

    ```c++
    int array[10];
    int *beg = begin(array);	// 指向数组第一个元素的迭代器，类型为指向数组元素类型的指针
    int *end = begin(array);	// 数组的尾后迭代器，类型为指向数组元素类型的指针
    ```

    

# 三. 操作

下表列举了一些迭代器的操作：

- `iter`：一个迭代器

| 操作                                   | 效果                                                         |
| -------------------------------------- | ------------------------------------------------------------ |
| `*iter`                                | 返回迭代器`iter`所指元素的引用                               |
| `iter->mem`                            | 解引用`iter`并获取该元素的名为`mem`的成员，等价于`(*iter).mem` |
| `++iter`                               | 令`iter`指示容器中的下一个元素                               |
| `--iter`                               | 令`iter`指示容器中的上一个元素                               |
| `iter1 == iter2`<br />`iter1 != iter2` | 判断两个迭代器是否相等(不相等)<br />当两个迭代器指示的是同一个元素或者它们是同一个容器的尾后迭代器则相等，返回`true`；否则，则不相等，返回`false` |

**注意**：

1. 执行解引用的迭代器必须合法并确实指示着某个元素
2. 迭代器有`iterator`和`const_iterator`两种类型，对于前者，可以对其指向的对象进行读写操作；对于后者，只能对其指向的对象进行读操作
3. 如果`vector`对象改变了元素个数，则该对象之前的迭代器将会失效



# 四. 其他操作

下表列出了`vector`和`string`对象支持的其他操作：

| 操作                             | 效果                                                         |
| -------------------------------- | ------------------------------------------------------------ |
| `iter + n`                       | 返回一个迭代器，指向`iter`之后第`n`个元素或尾后位置，需要自行确定迭代器的有效性 |
| `iter - n`                       | 返回一个迭代器，指向`iter`之前第`n`个元素，需要自行确定迭代器的有效性 |
| `iter += n`                      | 将迭代器向后移动`n`个元素，需要自己保证迭代器的有效性        |
| `iter -= n`                      | 将迭代器向前移动`n`个元素，需要自己保证迭代器的有效性        |
| `iter1 - iter2`                  | 返回`string::difference_type`或`vector<T>::difference_type`类型，返回两个迭代器所指的元素之间相隔的元素个数 |
| `<`<br />`<=`<br />`>`<br />`>=` | 当两指针指向同一容器的元素或尾后位置时，当某个迭代器指向的容器位置在另一个迭代器所指的位置之前，则说前者小于后者。 |

