# 一. 程序编译过程

以C语言程序源文件"hello.c"为例:

![image](https://user-images.githubusercontent.com/91216205/192561328-11973ff3-ffc1-4efa-a268-5ab5493cb33a.png)

1. **预处理阶段**：预处理器（cpp）根据以字符`#`开头的命令，修改原始的C程序。如图中预处理器向`hello.c`中插入源程序中include的内容，然后得到另一个C程序源文件，通常以`.i`作为文件扩展名。

2. **编译阶段**：编译器（ccl）将C语言程序文本文件`hello.i`翻译成汇编语言程序文本文件`hello.s`，它包含一个汇编语言程序。其函数main的定义如下：

   ```
   main:
   	subq $8, %rsp
   	movl $.LC0, %edi
   	call puts
   	movl $0, %eax
   	addq $8, %rsp
   	ret
   ```

3. **汇编阶段**：汇编器（as）将汇编语言程序`hello.s`翻译成机器语言指令，把这些指令打包成一种叫做可重定位目标程序的格式，并将结果保存在目标文件`hello.o`中，这是一个二进制文件。

4. **链接阶段**：链接器（ld）将`hello`程序所调用的所有函数的可重定位目标程序与`hello.O`进行链接，在上述例子中，应该是`printf.o`与`hello.o`进行链接，最终得到一个可执行程序文件`hello`



# 二. 硬件结构

下图是一个典型系统的硬件组成：

![image](https://user-images.githubusercontent.com/91216205/192566931-b3f30745-7f74-4b68-8c27-0756d7145fcd.png)

1. **总线**：
