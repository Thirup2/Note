# 一. 算法描述

1. 将参数指定的起始位置作为主串开始匹配的起始位置，将子串的第一个字符与该位置对齐
2. 挨个字符进行比较，当任意一个字符串比较到终点时退出循环
3. 在循环中，若比较到某个字符不相同时，则将主串的起始匹配位置向后移一位，然后将子串的第一个字符与该位置对齐，重复循环；若比较到两个字符相同，则比较两个字符串中的下一个字符。
4. 当退出循环时，若是因为子串比较到结尾，则说明主串有一部分与子串完全匹配，则返回此次循环的起始匹配位置；否则，说明匹配失败，返回失败标志。



# 二. 代码描述

```c
size_char Index(CSTRING string, CSTRING substring, size_char pos)
{
    if (StringEmpty(substring)) {
        return -1;
    }
    size_char i = pos;
    size_char j = 1;
    while (i <= string[0] && j <= substring[0]) {
        if (string[i] == substring[j]) {
            ++i;
            ++j;
        } else {
            i = i - j + 2;
            j = 1;
        }
    }
    if (j > substring[0]) {
        return i - substring[0];
    } else {
        return -2;
    }
}
```

