# 一. 循环队列的定义

首先介绍顺序队列，即使用顺序存储实现的队列，有一个固定的空间，顺序队列相比于顺序栈更多了一个缺点，顺序队列保存的元素不断在数组后面堆积，前面的元素一个个减少，到最后数组在逻辑上无法存放更多的元素，但实际上数组在前面部分还留有之前的队头元素出队列剩下的空位，而这显然有一个浪费，这也就是为什么顺序栈可行而顺序队列不可行的原因，因为顺序栈栈底部分一直在数组的最前端不会改变。

所以我们需要优化顺序队列的逻辑，于是有了循环队列。

**循环队列**：即队列的头尾相接的顺序存储结构。当队尾已经存到数组最后一个元素后，下一个元素从数组头部开始存储



# 二. 关键概念

首先需要一个队头指针(`front`)和一个指向队尾元素后一个位置的指针(`rear`)

## 1. 队列空或队列满的判断

### 1) 完全存满数组

第一种情况是完全将数组存满的情况，那么不论是队列为空还是队列已满，二者的状态都是相同的，即都是两个指针指向同一个元素。

解决办法是：设置一个标志变量`flag`，当`front == rear && flag == 0`时，队列为空；当`front == rear && flag == 1`时队列为满。

当情况是移动`front`使得两个指针相等时，`flag`设置为0；若是移动`rear`使得两个指针相等时，`flag`设置为1。

### 2) 保留一个空位

第二种办法是将队列空和队列满区别开。

即队列为空时`front == rear`，队列满时`front + 1 == rear`（此处的+1指一个逻辑循环数组的下一个元素，若`front`为数组最后一个元素，则`front+1`为数组第一个元素）。

若队列的最大尺寸为`MAXSIZE`，那么队列满的条件是：`(rear + 1) % MAXSIZE == front`



## 2. 队列长度

可以知道的是：当`rear>front`和`rear<front`时，二者的具体情况是不同的。当`rear>front`时，队列的长度为`rear-front`；当`rear<front`时，队列的长度为`rear-front+MAXSIZE`。

从上述可以推导出求队列长度的通用公式：`(rear - front + MAXSIZE) % MAXSIZE`。
