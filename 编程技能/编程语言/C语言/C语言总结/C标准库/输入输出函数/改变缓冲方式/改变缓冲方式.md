在流上执行的缓冲方式有时并不合适，下面两个函数可以用于对缓冲方式进行修改。只有当指定的流被打开但还没有在它上面执行任何其他操作前，才能调用这两个函数：
```c
void setbuf(FILE *stream, char *buf);
int setvbuf(FILE *stream, char *buf, int mode, size_t size);
```
- `setbuf`设置了另一个数组，用于对流进行缓冲。这个数组的字符长度必须为`BUFSIZE`（定义于stdio.h）。为一个流自行指定缓冲区可以防止I/O函数为它分配一个缓冲区。如果用一个NULL参数调用这个函数，`setbuf`函数将关闭流的所有缓冲方式。字符准确地按程序所规定的方式进行读取和写入
- `setvbuf`函数更为通用。`mode`参数用于指定缓冲的类型，可以有三个值：`_IOFBF`指定一个完全缓冲的流，`_IONBF`指定一个不缓冲的流，`_IOLBF`指定一个行缓冲流。所谓行缓冲，就是每当一个换行符写入到缓冲区时，缓冲区便进行刷新。
`buf`和`size`参数用于指定需要使用的缓冲区。如果`buf`为NULL，那么`size`的值必须是0。一般而言，最好用一个长度为`BUFSIZE`的字符数组作为缓冲区。