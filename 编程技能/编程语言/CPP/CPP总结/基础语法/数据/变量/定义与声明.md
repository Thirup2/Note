# 一. 变量定义

## 1. 基本形式

变量定义的基本形式如下：`类型说明符 + 一个或多个变量名组成的列表`，变量名组成的列表以逗号分隔，最后以分号结束。列表中每个变量名的类型都由类型说明符指定，定义时还可以为一个或多个变量赋初值，如：

```c++
int sum = 0, value, units_sold = 0;
Sales_item item;
std::string book("0-201-78345-X");
```

## 2. 初始化

当变量在创建时获得了一个特定的值，我们说这个对象被**初始化**（initialized）了。用于初始化变量的值可以是任意复杂的表达式，表达式的值就是该变量的**初始值**。

当一次定义了两个或多个变量时，对象的名字也就马上可以使用了，因此在同一条定义语句中，可以用先定义的变量值去初始化后定义的其他变量，如：

```c++
double price = 109.99, discount = price * 0.16;
```

**注意**：初始化并非赋值。初始化的含义是创建变量时赋予其一个初始值，而赋值的含义是把对象的当前值擦除，而以一个新值来替代。

**初始化方式**：

### 1）默认初始化

**语法**：

```c++
Type 对象;	// 1
```

1. 当不带初始化器而声明具有自动、静态或线程局部存储期的变量时；

**效果**：

当对象被默认初始化时，此时对象被赋予了 “初始值”。

如果是内置类型的变量未被显示初始化，该默认值由定义的位置决定：定义于任何函数之外的变量被初始化为 0；定义在函数体内部的内置类型变量将**不被初始化**，它的值是未定义的，可能是垃圾值。

对于类类型来说，它是否允许默认初始化以及默认初始化时的操作都由各个类各自决定。

### 2）列表初始化

**语法**：

```c++
Type 对象{value};		// 1
Type 对象 = {value};	 	// 2
```

**效果**：

与`Type 对象 = value;`效果相同，但使用这种初始化形式有一个重要特点：如果我们使用列表初始化且初始值存在丢失信息的风险，则编译器将报错。



# 二. 变量声明

为了允许把程序拆分成多个逻辑部分来编写，C++ 语言支持**分离式编译**机制，该机制允许将程序分割为若干个文件，每个文件可被独立编译。

如果将程序分为多个文件，则需要有在文件间共享代码的方法。例如，一个文件的代码可能需要使用另一个文件中定义的变量。

为了支持分离式编译，C++ 将声明和定义区分开来。**声明**（declaration）使得名字为程序所知，一个文件如果想使用别处定义的名字则必须包含对那个名字的声明。而**定义**（definition）负责创建与名字关联的实体。

变量声明规定了变量的类型和名字，在这一点上定义与之相同。但是除此之外，定义还申请存储空间，也可能会为变量赋一个初始值。

如果想声明一个变量而非定义它，就在变量名前添加关键字`extern`，而且不要显式地初始化变量：

```c++
extern int i;		// 声明 i 而非定义 i
int j;			// 声明并定义 j 
```

如果包含了显式初始化的声明将成为定义，这么做会抵消`extern`的作用：

```c++
extern double pi = 3.1416;		// 定义
```

在函数体内部，如果试图**初始化**一个由`extern`关键字标记的变量，将引发错误。

变量能且只能被定义一次，但是可以被多次声明。