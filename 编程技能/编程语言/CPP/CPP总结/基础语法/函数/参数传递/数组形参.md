# 一. 传递数组

由于数组不允许拷贝，所以无法对数组进行传值调用。但我们可以将数组通过指针或者引用的方式进行传递。

## 1. 指针传递

数组形参可以写作下面的形式：

```c++
void print(const int *);
void print(const int[]);
void print(const int[10]);
```

这三种形式对于机器的含义完全相同，都是`const int *`类型，即使在`[]`中写上了数组的大小，程序也无法获取该数组的大小，所以如果要管理数组形参，还需要用其他方法来处理数组，如传递额外的参数等，主要的方法有以下几种：

****

**使用标记指定数组长度**：

该方法要求数组本身包含一个结束的标记，也就是说数组中最后一个元素无法用于保存有效数据，需要用来标记结束。

其典型用例就是 C 风格的字符串，其在最后一个字符后面跟着一个空字符。

****

**使用标准库规范**：

可以像使用迭代器那样传递两个指针：指向数组首元素的指针和尾后元素的指针。

传递时需要注意指针的正确性。

****

**显式传递数组大小**：

添加一个函数形参用于表示数组的大小即可正常管理数组。

需要注意传递的数组大小的正确性。

****

另外，由于数组转换为了指针，所以如果不需要对数组元素执行写操作的时候，数组形参应该是指向`const`的指针。只有当函数确实要改变元素值的时候，才把形参定义成指向非常量的指针



## 2. 引用传递

可以将变量定义成数组的引用，如：

```c++
int arr[10] = {};
void print(int (&arr)[10])
{
    for (auto elem : arr)
        cout << elem << endl;
}
```

使用引用传递数组时，需要注意以下几点：

- 在引用传递数组时，数组的大小就是必须的，这和指针传递不同
- 此时`arr`对函数而言不是指针而是数组，所以可以使用范围`for`语句进行迭代
- 函数形参的声明需要注意，不能声明为`int &arr[10]`，这将意图创建一个引用的数组，首先这是不被允许的，其次这也不符合程序的意图



# 二. 传递多维数组

需要注意，在 C++ 中没有真正的多维数组，而是数组的数组，所以和传递一维数组相似，可以传递指向数组首元素的指针或者数组的引用。

如果传递指针，那么需要注意，数组除了第一维之外，后面所有的维度大小都是数组元素的组成部分，不能省略，如：

```c++
int matrix[10][20];

// 可以写成
void print(int (*matrix)[20], int rowSize) {/* ... */}
void print(int matrix[][20], int rowSize) {/* ... */}
void print(int matrix[10][20], int rowSize) {/* ... */}
void print(int matrix[15][20], int rowSize) {/* ... */} 	// 因为第一维度对传递的参数没有影响
```

对于第一维的数字没有什么要求，但是需要注意绝对不能将除了一维数字之外的其他维度大小写错，否则在传递参数时就会出错，因为类型不匹配。

除了传递指针，也可以传递引用：

```c++
int matrix[10][20];
void print(int (&matrix)[10][20]) {/* ... */}
```

此时，每个维度的数字都是必须的