# 一. 基本思想
类的基本思想是**数据抽象**和**封装**。数据抽象是一种依赖于**接口**和**实现**分离的编程（以及设计）技术。类的接口包括用户能执行的操作；类的实现则包括类的数据成员、负责接口实现的函数体以及定义所需的各种私有函数。
封装实现了类的接口和实现的分离。封装后的类隐藏了它的实现细节，也就是说，类的用户只能使用接口而无法访问实现部分。

## 1. 数据抽象
一个抽象数据类型包括接口和实现两个部分。
### 1）接口
即一个抽象数据类型允许的操作，如对于IO类，我们可以使用输入、输出等接口来实现程序的输入输出操作。它只提供一个功能，我们并不关心这个接口具体的实现过程。

### 2）实现
为了实现上述所说的接口的功能，我们就需要使用一些方法，所有的方法用一个名字来描述，就叫做算法，而通常为了实现一个算法，我们都可能需要定义一些数据来辅助，这叫做数据结构。在C++的类中，数据结构用数据成员来定义，接口功能的实现则通过一些函数来实现，如成员函数、构造函数以及非成员函数等。

## 2. 封装
对于类的用户来说，一般只需要了解其接口就足够了，而无需在意接口的实现。类的实现只对类的设计者来说比较重要，类的设计者可以随时修改类的实现，如当有了更好的数据结构可以选择的时候，可以修改数据结构的定义，当有了更好的算法可以实现某个接口的时候，也可以修改接口实现的具体内容，只要不改变类的名字，以及类的接口，那么对于用户的用例代码就没有影响，这对一个类来说是很重要的，因为时常会有算法的更新，如果每次修改一下算法，就需要更改用例代码，那么我猜这个类一定没多少人用。一般如果一个接口需要修改参数数量或类型以及返回值的时候，都是通过添加一个另外的函数来规避这个问题，以前的代码还是可以用，在C++里，有一个特殊的解决办法，就是添加重载函数。

### 1）访问控制
这是实现类的封装最重要的一个步骤，访问控制可以控制类中某个部分的可见性，一般情况下的封装都是将接口设置为可见，而非接口都设置为不可见，这样用户就只能通过接口来创建和使用一个类对象。

首先是控制访问的**访问说明符**，有`public`以及`private`两个访问说明符，前者的含义是定义在`public`说明符之后和下一个说明符或类结束之前的内容都是对用户可见的；而后者的含义是定义在`private`说明符之后和下一个说明符或类结束之前的内容都是对用户不可见的。

其次是定义类的方法，这也决定了一部分的访问权限。定义类的方法有两种，一是`struct`关键字定义，二是`class`关键字定义，二者在语法上几乎相同，主要是在第一个访问说明符之前的内容的访问权限不同。`struct`的类定义中，在第一个访问说明符之前的成员是`public`的；相反，在`class`的类定义中，在第一个访问说明符之前的类成员是`private`的。

所以当我们希望类定义的所有成员是`public`时，使用`struct`；反之，如果希望成员`private`的，使用`class`。

### 2）友元
还有一部分接口定义在类的外部，此时类的内部已经设置了成员不可见，那么对于外部的接口来说，就无法访问到类内部的成员，此时我们就需要使用友元来实现外部接口对类内部成员的访问权限。

设置友元通过`friend`关键字来进行，即在类内添加一个带有`friend`关键字的声明。

# 二. 组成
一个类通常由两部分组成，一部分是类关键词及其花括号所包含的那块，另一部分一般是定义在类外部的接口函数。所有声明在类内部的都叫做**成员**，而声明在类外部的则是**非成员**。

而对于一个抽象数据类型来说，主要分为**数据**和**操作**两个类：
## 1. 数据
主要由**数据成员**组成，它决定了这个类的数据结构，一般设置为`private`。即无法访问。

## 2. 操作
### 1）成员函数
成员函数声明在类的内部，与一般函数格式相同，都包含一个返回类型，一个函数名以及一些参数。

对于成员函数来说，还默认传入了一个指向该类对象的指针`this`，当用一个对象来调用这个成员函数时，`this`会被赋值为指向调用对象的指针。

使用成员函数需要用`对象.成员函数()`的方式来调用。

### 2）构造、拷贝、赋值和析构
这几类函数也必须声明在类的内部，但其语法与成员函数有一些区别。他们主要是为了实现一个类应该具有的基本功能。

如果没有显式地提供这几类函数，编译器都会替我们合成默认的构造、拷贝、赋值和析构函数。

对于构造函数来说，其调用方式与声明一个变量差不多，即`ClassName project(<parameters>)`，通过类名与参数（可选）构造了一个对象`project`。

### 3）非成员函数
这类函数定义在类的外部，其可见性为全局可见。其格式与一般函数基本相同。对于要访问类成员的函数，需要在类内添加该函数的友元声明，其调用方式与普通的函数完全相同。