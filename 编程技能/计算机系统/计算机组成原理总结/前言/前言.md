# 一. 计算机单位

计算机表示数据的最小单位通常为 **比特**（bit），但人们通常不使用这个单位来表示数据，而使用 **字节**（Byte）来表示最小的数据，通常 1 字节 = 8 比特。另外，一般在机器中设计时使用的是二进制的定义，包括原始的定义也是二进制的定义，但在人们的日常使用中，为了方便，通常使用的是十进制的定义。

二进制单位定义如下：

| 单位     | 缩写 | 数值     |
| -------- | ---- | -------- |
| 千比字节 | KiB  | $2^{10}$ |
| 兆比字节 | MiB  | $2^{20}$ |
| 吉比字节 | GiB  | $2^{30}$ |
| 太比字节 | TiB  | $2^{40}$ |
| 拍比字节 | PiB  | $2^{50}$ |
| 艾比字节 | EiB  | $2^{60}$ |
| 泽比字节 | ZiB  | $2^{70}$ |
| 尧比字节 | YiB  | $2^{80}$ |

十进制单位定义如下：

| 单位   | 缩写 | 数值      |
| ------ | ---- | --------- |
| 千字节 | KB   | $10^3$    |
| 兆字节 | MB   | $10^6$    |
| 吉字节 | GB   | $10^9$    |
| 太字节 | TB   | $10^{12}$ |
| 拍字节 | PB   | $10^{15}$ |
| 艾字节 | EB   | $10^{18}$ |
| 泽字节 | ZB   | $10^{21}$ |
| 尧字节 | YB   | $10^{24}$ |



# 二. 计算机分类

## 1. 个人计算机

**个人计算机**（Personal Computer, PC）：

用于个人使用的计算机，通常包含图形显示器、键盘和鼠标。

个人计算机强调以低成本向单个用户交付良好的性能，通常运行第三方软件。这类计算方式推动了许多计算技术的发展，尽管它仅有 35 年的历史。

在现代，**个人移动设备**（Personal Mobile Device, PMD）成为了人们日常生活中最常使用的个人计算机。



## 2. 服务器

**服务器**（Server）：

用于为多个用户并行运行大型程序的计算机，通常只能通过网络访问。

它适用于执行巨大的工作负载，其中可能包括单个复杂应用——通常是科学或工程应用程序；也可以执行许多小型作业，例如在构建大型 Web 服务器时发生的任务。这些应用程序通常来自其他来源（如数据库或模拟系统）的软件，但往往会针对特定需求进行修改或定制。服务器采用与桌面计算机相同的基础技术构建，但能够提供更强大的计算、存储和输入/输出能力。通常情况下，服务器更强调可靠性，因为相比但用户个人计算机而言，服务器发生故障的代价更高。

**超级计算机**也属于是服务器的一种，在现代，**云计算**接替了传统服务器，它依赖于现在称为**仓储级计算机**（Warehouse Scale Computer, WSC）的巨型数据中心。



## 3. 嵌入式计算机

**嵌入式计算机**：

用于运行某预定应用程序或软件集合的计算机，一般内嵌于其他设备中。

嵌入式计算机包括汽车、电视机中的微处理器或计算机，以及控制飞机或货船的处理器网络。嵌入式计算系统的设计目标是运行单一应用程序或者一组相关的应用程序，并且通常和硬件继承再一起以单一系统的方式一并交付。

嵌入式应用常常具有特定的应用程序要求，这需要将最低性能与严格的成本及功耗限制结合在一起考虑。以音乐播放器为例，处理器只需要尽快执行有限的功能，除此之外，成本和功耗最小化是最重要的目标。

同时，嵌入式计算机通常对故障的容忍度非常低，因为故障可能会令人不安（如新买的电视机无法工作），甚至是破坏性的（如飞机或货船上的计算机系统崩溃）。在面向消费者的嵌入式应用中，一般通过简单设计来获得可靠性——其重点在于尽可能地保证一项功能的正常运转。而在大型嵌入式系统中，采用了服务器领域的冗余技术。



# 三. 计算机体系结构中的思想

## 1. 面向摩尔定律的设计

**摩尔定律**（Moore's law）：单芯片上所集成的晶体管资源每 18 至 24 个月翻一番。

计算机架构师必须预测器设计完成时的工艺水平，而不是设计开始时的工艺水平。



## 2. 使用抽象简化设计

提高硬件和软件生产率的主要技术之一是使用**抽象**（abstraction）来表示不同的设计层次——隐藏低层细节以提供给高层一个更简单的模型。



## 3. 加速经常性事件

**加速经常性事件**（make the common case fast）远比优化罕见情形能够更好地提升性能。这需要设计者知道经常性事件是什么，这只有通过仔细的实验和测量才可能得出。



## 4. 通过并行提高性能

自计算机诞生以来，计算机架构师就通过**并行**计算操作来获得更高性能。



## 5. 通过流水线提高性能

并行性的一种特殊场景在计算机体系结构中非常普遍，它有着专有名称：**流水线**（pipelining）。流水线上的成员做着整个工作的一小部分内容，将流水线上所有成员做的工作结合起来就可以完成一项大的任务，其优点是每个人只需要知道自己需要做的那一小块内容而不是全部内容。



## 6. 通过预测提高性能

在某些情况下，假设从**预测**错误中恢复的代价并不高，且预测相对准确，则平均来说进行预测并开始工作可能会比等到明确结果后再执行更快。



## 7. 存储层次

由于存储器的速度通常会影响性能，存储器的容量限制了可被解决的问题的规模，且当今的内存成本常常是计算机成本的主要部分，因此程序员希望存储器速度更快、容量更大、价格更便宜。架构师发现可以通过**存储层次**（hierarchy of memory）来处理这些冲突的需求。在存储层次中，速度最快、容量最小并且每位价格最昂贵的存储器处于顶层，而速度最慢、容量最大且每位价格最便宜的存储器处于底层。



## 8. 通过冗余提高可靠性

计算机不仅要速度快，更需要工作可靠。由于任何物理设备都可能发生故障，因此我们通过引入冗余组件来使系统可靠，该组件在系统发生故障时可以替代实效组件并帮助检测故障。



# 四. 计算机体系结构

在计算机的抽象体系中，有三个组成部分：硬件、系统软件和应用软件。

硬件位于最底层，它只能执行极为简单的低级指令；而系统软件则是用来统筹管理整个硬件系统以及提供常用服务，如操作系统、编译器、加载程序和汇编器等；应用软件通过系统软件提供的服务可以调用到硬件来执行一些工作。

## 1. 系统软件

系统软件有很多种，其中有两种对于现代计算机系统来说是必需的：操作系统和编译器。

**操作系统**是用户程序和硬件之间的接口，为用户提供各种服务和监控功能。操作系统最为重要的作用是：

- 处理基本的输入和输出操作
- 分配外存和内存
- 为多个应用程序提供共享计算机资源的服务

当前我们使用的操作系统主要有：Linux、IOS和Windows

操作系统抽象了硬件和底层软件之间的接口，这个抽象被命名为**指令系统体系结构**（instruction set architecture），或简称**体系结构**（architecture）。

**编译器**完成另外一项重要功能：把高级语言（如C、C++、Java或Visual Basic等）编写的程序翻译成硬件能执行的指令。



## 2. 应用软件

应用软件为用户提供各种各样的应用功能，一个典型的应用软件往往执行了下面的步骤：

高级语言程序（C、C++、Java等） $\longrightarrow$ 汇编语言程序（汇编语言） $\longrightarrow$ 机器语言程序（二进制指令）

 第一步由编译器执行，第二步由汇编器执行。



## 3. 硬件

计算机硬件大体上由五部分组成：输入设备、输出设备、存储器、数据通路和控制器。

**输入设备**：为计算机提供数据

**输出设备**：将计算结果送给用户

**中央处理单元**：包括**数据通路**（运算器）和**控制器**

**存储器**：提供程序运行时的存储空间，主要有**DRAM**（动态随机访问存储器）和**SRAM**（静态随机访问存储器）两种。



# 五. 计算机的性能

## 1. 性能的定义

衡量计算机的性能可以通过下面两个参数进行：

- **响应时间**（response time）：也叫做**执行时间**（execution time），是计算机完成某任务所需的总时间，包括硬盘访问、内存访问、I/O活动、操作系统开销和CPU执行时间等
- **吞吐率**：也叫做**带宽**（band-width），表示单位时间内完成的任务数量