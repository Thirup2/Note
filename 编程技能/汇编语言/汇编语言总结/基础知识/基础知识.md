# 一. 简介

汇编语言是机器语言的第一层抽象，所以汇编语言也和机器息息相关。程序员用汇编语言写出源程序，然后用汇编编译器将其编译为机器码，由计算机最终执行。



# 二. 汇编语言的组成

汇编语言主要有以下三类指令组成：

- 汇编指令：机器码的助记符，有对应的机器码
- 伪指令：没有对应的机器码，由编译器执行，计算机并不执行
- 其他符号：如`+`、`-`、`*`、`/`等，由编译器识别，没有对应的机器码

汇编语言的核心是汇编指令，它决定了汇编语言的特性。



# 三. 存储器

CPU 是计算机的核心部件，它控制整个计算机的运作并进行运算。要想让一个 CPU 工作，就必须向它提供指令和数据。指令和数据在存储器中存放，即我们平时所说的内存。

存储器被划分成若干个存储单元，每个存储单元从 0 开始顺序编号，例如一个存储器有 128 个存储单元，编号从 0 ～ 127.

一般最低以一个字节表示一个存储单元，即一个编号有一个字节的空间，空间大小的转换关系如下：

- $1\ B$=$8\ bit$
- $1\ KB=1024\ B$
- $1\ MB=1024\ KB$
- $1\ GB=1024\ MB$
- $1\ TB=1024\ GB$

在 8086 CPU 中，我们需要**字单元**的概念，一个字单元由两个存储单元组成，这两个存储单元应该相邻。同时高地址内存单元中存放这个字单元所表示的数据的高位，低地址内存单元中存放这个字单元所表示数据的低位。当我们使用字宽的指令时，将一次读取一个字单元即两个存储单元，而当我们使用字节宽的指令时，将一次读取一个存储单元。



# 四. 指令和数据

在汇编语言中，指令和数据是应用上的概念，在内存或磁盘上，指令和数据没有任何区别，都是二进制信息。CPU 在工作的时候把有的信息看作指令，有的信息看作数据，为同样的信息赋予了不同的意义。



# 五. CPU 对存储器的读写

CPU 想要进行数据的读写，必须和外部器件进行下面 3 类信息的交互：

- 存储单元的地址（地址信息）
- 器件的选择，读或写的命令（控制信息）
- 读或写的数据（数据信息）

这三类信息在物理上通过总线进行传输，同时总线又从逻辑上分为 3 类：地址总线、控制总线、数据总线。

操作执行的过程通常是：CPU 通过地址总线和控制总线向器件发送命令，对应的器件根据命令的要求从数据总线读取数据到地址总线指定的位置或将地址总线指定位置上的数据写入到数据总线然后传输到 CPU



# 六. 内存地址空间

连接在计算机上的很多硬件设备都有存储空间，包括内存和显卡提供的 RAM 空间和各个硬件保存 BIOS 程序的 ROM 空间。

CPU 将所有的这些存储器统合起来看成一个逻辑存储器，并为其编址，这个逻辑存储器提供的空间就被称作内存地址空间。

在这个逻辑存储器中，每个物理存储器在这个逻辑存储器中占有一个地址段，即一段地址空间。CPU 在这段空间中读写数据，实际上就是在相对应的物理存储器中读写数据。



# 七. 16 位结构的CPU

16 位结构的 CPU 具有下面几方面的结构特性：

- 运算器一次最多可以处理 16 位的数据
- 寄存器的最大宽度为 16 位
- 寄存器和运算器之间的通路为 16 位

也就是说，在 8086 内部，能够一次性处理、传输、暂时存储的信息的最大长度是 16 位的。内存单元的地址在送上地址总线之前，必须在 CPU 中处理、传输、暂时存放，对于 16 位 CPU，能一次性处理、传输、暂时存储 16 位的地址。



# 八. 物理地址

CPU 在访问内存单元时，要给出内存单元的地址。所有的内存单元构成的存储空间是一个一维的线性空间，每一个内存单元在这个空间中都有唯一的地址，我们将这个唯一的地址称为物理地址。

CPU 通过地址总线送入存储器的，必须是一个内存单元的物理地址。首先在 8086 CPU中有 20 位地址总线，所以在 8086 CPU 中给出物理地址的方法如下：

- 首先提供一个 16 位的段地址
- 然后提供一个 16 位的偏移地址
- 地址加法器将两个 16 位地址合成为一个 20 位的物理地址，一般是：$物理地址=段地址\times 16+偏移地址$

根据该公式可以得出：

- 由于$物理地址=段地址\times 16$，一个段的起始地址一定是 16 的倍数
- 由于偏移地址为 16 位，其寻址能力是 64 KB，所以一个段的长度最大为 64 KB



# 九. 操作数

在 8086 CPU 中，有这样几种操作数：

- 立即数：即常数，直接写出对应数字即可，如：566。另外，十六进制的立即数需要在末尾添加 H，如：4E20H，表示十六进制的 4E20，即20000
- 寄存器：直接写出寄存器的名称即可
- 内存：通过在`[]`里写出需要访问的数据的内存地址偏移量即可访问内存地址，这个偏移量依靠 DS 寄存器保存的段地址进行计算。需要注意的是，在`[]`中写出寄存器名称也能将寄存器中保存的值作为地址偏移量，如`[bx]`



# 十. 指令

- 汇编语言的一条指令包括指令名称以及其后的操作数，一条指令占一行，不需要分号。

- 同时，对于含有多个操作数的指令来说，操作数之间需要用逗号隔开
- 汇编指令或寄存器的名称不区分大小写