# 一. colgroup 元素

HTML 中的表格是基于行的。单元格的定义都要放在`tr`元素中，而表格则是一行一行地组建出来的。因此对列应用样式有点不方便，对于包含不规则单元格的表格更是如此。这个问题的解决方案之一就是使用`colgroup`和`col`元素。

## 1. 元素信息

| 元素     | 元素类型 | 允许具有的父元素 | 局部属性 | 内容                                              | 标签用法           |
| -------- | -------- | ---------------- | -------- | ------------------------------------------------- | ------------------ |
| colgroup | 无       | table元素        | span     | 零个或多个col元素（只有未设置span属性时才能使用） | 开始标签和结束标签 |

| 是否为HTML5新增 | 在HTML5中的变化                            | 习惯样式                                                     |
| --------------- | ------------------------------------------ | ------------------------------------------------------------ |
| 否              | width、char、charoff和valign属性已不再使用 | <pre><code>colgroup {<br />    display: table-column-group;<br />}</code></pre> |

## 2. 使用元素

```html
<table style="#colgroup1 {background-color: red}; #colgroup2 {background-color: green; font-size:small}">
<caption>Results of the 2011 Fruit Survey</caption>
<colgroup id="colgroup1" span="3"/>
<colgroup id="colgroup2" span="2"/>
<thead>
<tr>
<th>Rank</th><th>Name</th><th>Color</th>
<th colspan="2">Size & Votes</th>
</tr>
</thead>
<tbody>
<tr>
<th>Favorite:</th><td>Apples</td><td>Green</td>
<td>Medium</td><td>500</td>
</tr>
<tr>
<th>2nd Favorite:</th><td>Oranges</td><td>Orange</td>
<td>Large</td><td>450</td>
</tr>
<tr>
<th>3rd Favorite:</th><td>Pomegranate</td>
<td colspan="2" rowspan="2">
Pomegranates and cherries can both come in a range of colors
and sizes.
</td>
<td>203</td>
</tr>
<tr>
<th rowspan="2">Joint 4th:</th>
<td>Cherries</td>
<td rowspan="2">75</td>
</tr>
<tr>
<td>Pineapple</td>
<td>Brown</td>
<td>Very Large</td>
</tr>
</tbody>
<tfoot>
<tr>
<th colspan="5">&copy; 2011 Adam Freeman Fruit Data Enterprises</th>
</tr>
</tfoot>
</table>
```

此例中定义了两个`colgroup`元素，`span`属性指定了`colgroup`元素负责的列数，即第一个`colgroup`负责表格中地前三列，另一个`colgroup`负责剩余两列。两个`colgroup`元素都设置了`id`属性值，方便在定义 CSS 时使用。

****

**渲染效果如下**：

<table style="#colgroup1 {background-color: red}; #colgroup2 {background-color: green; font-size:small}">
<caption>Results of the 2011 Fruit Survey</caption>
<colgroup id="colgroup1" span="3"/>
<colgroup id="colgroup2" span="2"/>
<thead>
<tr>
<th>Rank</th><th>Name</th><th>Color</th>
<th colspan="2">Size & Votes</th>
</tr>
</thead>
<tbody>
<tr>
<th>Favorite:</th><td>Apples</td><td>Green</td>
<td>Medium</td><td>500</td>
</tr>
<tr>
<th>2nd Favorite:</th><td>Oranges</td><td>Orange</td>
<td>Large</td><td>450</td>
</tr>
<tr>
<th>3rd Favorite:</th><td>Pomegranate</td>
<td colspan="2" rowspan="2">
Pomegranates and cherries can both come in a range of colors
and sizes.
</td>
<td>203</td>
</tr>
<tr>
<th rowspan="2">Joint 4th:</th>
<td>Cherries</td>
<td rowspan="2">75</td>
</tr>
<tr>
<td>Pineapple</td>
<td>Brown</td>
<td>Very Large</td>
</tr>
</tbody>
<tfoot>
<tr>
<th colspan="5">&copy; 2011 Adam Freeman Fruit Data Enterprises</th>
</tr>
</tfoot>
</table>

需要注意的是，`colgroup`样式的优先度低于直接应用到`tr`、`td`和`th`元素上的样式。另外，对于合并单元格，将其第一个单元格位置作为整个单元格的位置。



# 二. col 元素

也可以不用`colgroup`元素的`span`属性，改用`col`元素指定组中的各列。

## 1. 元素信息

| 元素 | 元素类型 | 允许具有的父元素 | 局部属性 | 内容 | 标签用法   |
| ---- | -------- | ---------------- | -------- | ---- | ---------- |
| col  | 无       | colgroup元素     | span     | 无   | 虚元素形式 |

| 是否为HTML5新增 | 在HTML5中的变化                                   | 习惯样式                                                     |
| --------------- | ------------------------------------------------- | ------------------------------------------------------------ |
| 否              | align、width、char、charoff和valign属性已不再使用 | <pre><code>col {<br />    display: table-column;<br />}</code></pre> |



## 2. 使用元素

通过`col`元素既能对一组列应用样式，也能对该组中个别的列应用样式。`col`元素位于`colgroup`元素值中，每个`col`元素代表列组中的一列（未使用`span`属性的情况），如下所示：

```html
<table>
<caption>Results of the 2011 Fruit Survey</caption>
<colgroup id="colgroup1">
<col id="col1And2" span="2"/>
<col id="col3"/>
</colgroup>
<colgroup id="colgroup2" span="2"/>
<thead>
<tr>
<th>Rank</th><th>Name</th><th>Color</th>
<th colspan="2">Size & Votes</th>
</tr>
</thead>
<tbody>
<tr>
<th>Favorite:</th><td>Apples</td><td>Green</td>
<td>Medium</td><td>500</td>
</tr>
<tr>
<th>2nd Favorite:</th><td>Oranges</td><td>Orange</td>
<td>Large</td><td>450</td>
</tr>
<tr>
<th>3rd Favorite:</th><td>Pomegranate</td>
<td colspan="2" rowspan="2">
Pomegranates and cherries can both come in a range of colors
and sizes.
</td>
<td>203</td>
</tr>
<tr>
<th rowspan="2">Joint 4th:</th>
<td>Cherries</td>
<td rowspan="2">75</td>
</tr>
<tr>
<td>Pineapple</td>
<td>Brown</td>
<td>Very Large</td>
</tr>
</tbody>
<tfoot>
<tr>
<th colspan="5">&copy; 2011 Adam Freeman Fruit Data Enterprises</th>
</tr>
</tfoot>
</table>
```

**其渲染效果如下**：

<table>
<caption>Results of the 2011 Fruit Survey</caption>
<colgroup id="colgroup1">
<col id="col1And2" span="2"/>
<col id="col3"/>
</colgroup>
<colgroup id="colgroup2" span="2"/>
<thead>
<tr>
<th>Rank</th><th>Name</th><th>Color</th>
<th colspan="2">Size & Votes</th>
</tr>
</thead>
<tbody>
<tr>
<th>Favorite:</th><td>Apples</td><td>Green</td>
<td>Medium</td><td>500</td>
</tr>
<tr>
<th>2nd Favorite:</th><td>Oranges</td><td>Orange</td>
<td>Large</td><td>450</td>
</tr>
<tr>
<th>3rd Favorite:</th><td>Pomegranate</td>
<td colspan="2" rowspan="2">
Pomegranates and cherries can both come in a range of colors
and sizes.
</td>
<td>203</td>
</tr>
<tr>
<th rowspan="2">Joint 4th:</th>
<td>Cherries</td>
<td rowspan="2">75</td>
</tr>
<tr>
<td>Pineapple</td>
<td>Brown</td>
<td>Very Large</td>
</tr>
</tbody>
<tfoot>
<tr>
<th colspan="5">&copy; 2011 Adam Freeman Fruit Data Enterprises</th>
</tr>
</tfoot>
</table>

如果`colgroup`元素同时使用了`span`属性和`col`元素，那么此时`span`属性表示一个`col`代表几列。