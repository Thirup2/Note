# 一. 简介

如果一个类的某些成员需要访问另一个类的内部数据，为了完成这一任务，访问方需要能够访问被访问方的私有成员。

而想要令这种访问合法，被访问方需要将访问方指定成它的友元，如`Window_mgr`需要访问`Screen`内的私有成员，则：

```c++
class Screen
{
    friend class Windows_mgr;
   	/* ... */
};
```



# 二. 令成员函数作为友元

除了令整个`Window_mgr`作为友元之外，`Screen`还可以只为`Window_mgr`中的某个成员函数提供访问权限：

```c++
class Screen
{
    friend void Window_mgr::clear(ScreenIndex);
    /* ... */
};
```

需要注意：当把一个成员函数声明成友元时，我们必须明确指出该成员函数属于哪个类。

另外，要想令某个成员函数作为友元，我们必须仔细组织程序的结构以满足声明和定义的彼此依赖关系（以上述例子为例）：

- 首先定义`Windows_mgr`类（访问发起方），其中声明`clear`函数（发起访问的成员函数），但是**不能定义**它。在`clear`使用`Screen`的成员之前必须先声明`Screen`。
- 接下来定义`Screen`，包括对与`clear`的友元声明
- 最后定义`clear`，此时它才可以使用`Screen`的成员