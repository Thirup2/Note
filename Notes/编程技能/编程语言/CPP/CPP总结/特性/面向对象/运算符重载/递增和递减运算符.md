# 一. 简介

在迭代器中通常会实现递增运算符（`++`）和递减运算符（`--`），这两种运算符使得类可以在元素的序列中前后移动。C++ 语言并不要求递增和递减运算符必须是类的成员，但是因为它们改变的正好是所操作对象的状态，所以建议将其设定为**成员函数**。

对于内置类型来说，递增递减运算符既有前置版本也有后置版本。同样，我们也应该为类定义两个版本的递增和递减运算符。



# 二. 前置递增/递减运算符

前置递增/递减运算符**返回**递增或递减后**对象的引用**，且其函数签名如下所示：

```c++
ClassName& operator++();
ClassName& operator--();
```



# 三. 后置递增/递减运算符

如果想要同时定义前置和后置运算符，必须首先解决一个问题，即普通的重载形式无法区分这两种情况。前置和后置版本使用的是同一个符号，意味着其重载版本所用的名字将是相同的，并且运算对象的数量和类型也相同。

为了解决这个问题，后置版本接受一个额外的（不被使用的）`int`类型的形参。当我们使用后置运算符时，编译器会自动提供一个值为 0 的实参用来与前置版本进行区分。

从语法上来说，后置版本的函数可以使用这个额外的形参，但是在实际过程中通常不会这么做。这个形参的唯一作用就是区分前置版本和后置版本的函数，而不是真的要在实现后置版本时参与运算。

综上，后置版本的函数签名如下：

```c++
ClassName& operator++(int);
ClassName& operator--(int);
```

为了与内置版本保持一致，后置运算符应该返回对象的原值，且返回的形式是一个值而非引用。其通用的一个实现方法是递增对象之前先记录对象的状态。

****

需要注意的是，如果我们显式地调用后置运算符，则必须提供一个`int`类型或能转换为`int`类型的实参，因为此时编译器不会自动提供实参：

```c++
obj.operator++(0);		// 调用后置版本的 ++
obj.operator++();		// 调用前置版本的 ++
```

