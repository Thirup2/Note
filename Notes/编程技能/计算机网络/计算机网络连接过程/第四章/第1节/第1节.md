# ADSL
1. 客户端 ( 数据 : 数据)
    - 添加IP头部 ( 数据 : IP + 数据 )
    - 添加MAC头部 ( 数据 : MAC + IP + 数据 )
    - 发送（经过路由器和集线器）
2. 互联网接入路由器
    - 接受包
    - 取出IP包 ( 数据 : IP + 数据 )
    - 添加PPP、PPPoE、MAC头部 ( 数据 : MAC + PPPoE + PPP + IP + 数据 )
3. ADSL Modem
    - 接受包
    - 将数据拆分为ATM信元
    - 转换成电信号并发送（经过分离器和配线盘）
4. DSLAM ( 局端多路Modem )
    - 接收电信号
    - 还原为ATM信元并发送
5. BAS ( 宽带接入服务器 )
    - 接收ATM信元
    - 还原为网络包 ( 数据 : MAC + PPPoE + PPP + IP + 数据 )
    - 取出PPP包 ( 数据 : PPP + IP + 数据 )
    - 添加隧道头部并发送 ( 数据 : L2TP + PPP + IP + 数据 (使用L2TP隧道时) )
6. 路由器 ( 隧道专用 )
    - 接收隧道包
    - 取出IP包 ( 数据 : IP + 数据 )
    - 添加相应头部发送到互联网内部 ( 数据 : XXX + IP + 数据 , 其中XXX部分根据实际情况改变)



# FTTH

### 一、直连方式
1. 客户端（数据：数据）
    - 添加IP头部（数据：IP + 数据）
    - 添加MAC头部（数据：MAC + IP + 数据）
    - 发送（经过集线器和路由器）
2. 互联网接入路由器
    - 接收包
    - 取出IP包（数据：IP + 数据）
    - 添加PPP、PPPoE、MAC头部（数据：MAC + PPPoE + PPP + IP + 数据）
3. 光纤收发器
    - 接收包
    - 将以太网包转换成光信号并发送
4. 多路光纤收发器
    - 接收光信号
    - 将光信号转换成电信号
5. BAS
    - 接收电信号
    - 转换成网络包（数据：MAC + PPPoE + PPP + IP + 数据）
    - 取出PPP包（数据：PPP + IP + 数据）
    - 添加隧道包（数据：L2TP + PPP + IP + 数据，（使用L2TP隧道时））
6. 路由器（隧道专用）
    - 接收隧道包
    - 取出IP包（数据：IP + 数据）
    - 添加相应头部发送到互联网内部（数据：XXX + IP + 数据，其中XXX部分根据实际情况改变）



### 二、分路方式
1. 多个客户端（数据：MAC + IP + 数据）
2. 互联网接入路由器（数据：MAC + PPPoE + PPP + IP + 数据）
3. ONU（将以太网包转换成光信号并发送）
4. 分光器（将多个客户端的光信号整合或将BAS来的信号分离）
5. OLT（接收光信号并将其转化成电信号，可以调整信号发送时机来避免碰撞）
6. BAS（数据：L2TP + PPP + IP + 数据，（使用L2TP隧道时））
7. 路由器（隧道专用）（数据：XXX + IP + 数据，其中XXX部分根据实际情况改变）