# 一、PPPoE
1. 在ADSL和FTTH中，用户和BAS之间是通过电缆或光纤固定连接在一起的，因此没有必要验证用户身份，所以实际上并不需要PPP的所有这些功能
2. 然而，通过用户名和密码登录的步骤可以根据用户名来切换不同的运营商；从管理的角度来看，通过用户名和密码，可以掌握是谁在访问互联网。
3. PPPoE是将PPP消息装入以太网包进行传输的方式



# 二、PPP
### （a） 拨号上网中的PPP
1. 用户在计算机上输入用户名和密码
2. 根据用户名和密码生成PPP消息
3. 将PPP消息装入HDLC帧进行发送
4. Modem或TA将数据转换成线路信号并通过电话线路或ISDN线路进行发送
5. 数字Modem接收信号并还原HDLC帧
6. 取出HDLC帧中的PPP消息，交给RAS的认证模块
7. 将用户名和密码发送给认证服务器，认证服务器校验用户身份
8. 当密码校验正确时，通过相反的方向将IP地址等配置信息下发给用户
9. 用户根据这些信息配置地址等参数，完成收发数据包的准备工作



### （b）ADSL中的PPP（PPPoE）
1. 用户在计算机上输入用户名和密码
2. 根据用户名和密码生成PPP消息
3. 将PPP消息装入以太网包进行发送
4. 将以太网包拆分成ATM信元并通过ADSL Modem调制后通过电话线路发送
5. 接收信号后将信号还原成信元，并发送给BAS
6. 接收信元并还原成以太网包，取出PPP消息交给认证模块
7. 将用户名和密码发送给认证服务器，认证服务器校验用户身份
8. 当密码校验正确时，通过相反的方向将IP地址等配置信息下发给用户
9. 用户根据这些信息配置地址等参数，完成收发数据包的准备工作



### （c）FTTH中的PPP（PPPoE）
1. 用户在计算机上输入用户名和密码
2. 根据用户名和密码生成PPP消息
3. 将PPP消息装入以太网包进行发送
4. 将以太网包转换成光信号发送
5. 接收光信号还原成以太网包
6. 从以太网包中取出PPP消息交给认证模块
7. 将用户名和密码发送给认证服务器，认证服务器校验用户身份
8. 当密码校验正确时，通过相反的方向将IP地址等配置信息下发给用户
9. 用户根据这些信息配置地址等参数，完成收发数据包的准备工作



# 三、隧道
### （a）TCP连接（套接字）
1. 在网络上的两台隧道路由器之间建立TCP连接
2. 将连接两端的套接字当做是路由器的端口，并从这个端口来收发数据



### （b）封装
1. 将包含头部在内的整个包装入另一个包中
2. 传输到隧道的另一端