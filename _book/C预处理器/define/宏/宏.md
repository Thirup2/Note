`#define`机制包括一个规定，允许把参数替换到文本中，这种实现通常称为**宏**或定义宏。下面是宏的声明方式：
```c
#define name(parameter-list) stuff
```
- `parameter-list`：参数列表，是一个由逗号分隔的符号列表，他们可能出现在`stuff`中。参数列表的左括号必须与`name`紧邻。如果两者之间有任何空白存在，参数列表就会被解释为`stuff`的一部分。
- 当宏被调用时，名字后面是一个由逗号分隔的值的列表，每个值都与宏定义中的一个参数相对应，整个列表用一对括号保卫。当参数出现在程序中时，与每个参数对应的实际值都将被替换到`stuff`中
# 例1
```c
#define SQUARE(x) x * x
```
如果在上述声明之后，把`SQUARE(5)`置于程序中，预处理器就会用下面这个表达式替换该表达式：
```c
5 * 5
```
- **警告**：`#define`替换是将后面的部分原封不动地替换到表达式中，所以如果像下面这样使用会产生一个问题：
    ```c
    a = 5;
    printf("%d\n", SQUARE( a + 1 ) );
    ```
    - 参数`x`被`a + 1`替换，所以`SQUARE(a + 1)`被替换成了`a + 1 * a + 1`，运算结果是11而不是36
    - 要解决这个问题就要在宏定义里面通过添加括号来解决
# 例2
```c
#define repeat do
#define until(x) while(!(x))
```
- 这两个宏创建了一种“新”的循环，其工作过程类似于其他语言中的`repeat/until`循环。它按照下面这样的方式使用：
    ```c
    repeat {
        statements
    } until( i >= 10 );
    ```
    预处理器将用下面的代码进行替换：
    ```c
    do {
        statements
    } while(!( i >= 10 ));
    ```